# facade/01-test

## About

特に意図もなく、試しに作成したFacade Design Patternのテスト。

## 構成

### Page Object

ページ内の要素をまとめてあるElems classと、それを用いたPage classに分離してある。

#### Elems class

要素の呼び出しはメソッドとして記述してあるが、`get 要素() {...}`で定義し、呼び出しを簡便にしてある。

ただ、要素の子要素を呼び出したい時は、パラメータが必要になったり等あるので、違う方法を考えるなりしないといけないかもしれない。

#### Page class

`TestController` をDIするように作ってある。ただ、これが幸を奏するかは不明。

一方、Elems class はDIしておらず、普通に依存している。しかし、基本的には要素の存在とそれに対する操作が分離し難い為、特に問題ない可能性はある。

Elems classはprivateにしてある。これに関しては恐らく、外部から呼び出すことを許容すると、非常に面倒なことになる……。

特に意図してはいないが、1アクションの操作関数と、1アクションの操作関数のみを呼び出し複数アクションを行う操作関数に分かれている。恐らく、この構成が崩れると、改修を追従するときにかなり大変になる。

### Facade

規模が小さい為、1つのみ存在している。テスト規模が拡大して尚1つのみだと、Fat classになりかねない。

`TestController` をDIするように作ってある。これが幸を奏するかは現状わからない。

Facadeが呼び出す Page class をprivateに設定してみている。Page classのメソッドを呼び出す際にFacadeのメソッド経由で呼び出すことを強制するには有用ではある。しかし、テストの規模が拡大し、行いたい操作が増える毎に、Facadeのメソッドとして操作を追加する必要に迫られ、FacadeがFat classになっていきかねない。
